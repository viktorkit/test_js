<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <form name="loandata">
  <table>
    <tr><td><b>Введите данные:</b></td></tr>
    <tr><td>Размер ссуды:</td><td><input type="text" name="principal" onchange="calculate();"></td></tr>
    <tr><td>Годовой процент:</td><td><input type="text" name="interest" onchange="calculate();"></td></tr>
    <tr><td>Срок ссуды в годах:</td><td><input type="text" name="years" onchange="calculate();"></td></tr>
    <tr><td></td>
      <td><input type="button" value="Рассчитать"
      onclick="calculate( );"></td>
      </tr>
    <tr><td><b>Сведение о платежах:</b></td></tr>
    <tr><td>Ежемесячный платеж:</td><td>$<span class="result" id="payment"></span></td></tr>
    <tr><td>Общая сумма платежей:</td><td>$<span class="result" id="total"></span></td></tr>
    <tr><td>Общая сумма платежей по процентам:</td><td>$<span class="result" id="totalinterest"></span></td></tr>
  </table>  
  </form>
    <script lang="JavaScript">
      function calculate(){
        var principal = document.loandata.principal.value;
        var interest = document.loandata.principal.value / 100 / 12;
        var payment = document.loandata.principal.value * 12;

        var x = Math.pow(1 + interest, payment);
        var monthly = (principal*x*interest)/(x-1);

        var payment = document.getElementById("payment");
        var total = document.getElementById("total");
        var totalinterest = document.getElementById("totalinterest");

        if (isFinite(monthly)) {
          payment.innerHTML = monthly.toFixed(2);
          total.innerHTML = (monthly * payment).toFixed(2);
          totalinterest.innerHTML = ((monthly*payment)-principal).toFixed(2);
        }
        else{
          payment.innerHTML = "";
          total.innerHTML = "";
          totalinterest.innerHTML = "";
        }
      }
    </script>
</body>
</html>